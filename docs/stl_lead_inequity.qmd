---
title: "stl_lead_inequity"
format: html
---
Load in packages
```{r}
library(tidyverse)
library(janitor)
```

Read in data
```{r}
stl_lead <- read_csv(here::here("data", "stl_blood_lead.csv")) %>%
  clean_names()

dim(stl_lead)
names(stl_lead)
```

Find percent of population that identifies as white, create a new column
```{r}
stl_lead_prop <- stl_lead %>%
  mutate(prop_white = (white / total_pop) * 100)
```

create a scatterplot
```{r}
#| out-width: 80%
#| out-height: 80%

stl_lead_plot <- ggplot(data = stl_lead_prop, aes(x = pct_elevated, y = prop_white)) +
  theme_minimal() +
  geom_point(size = 2,
             alpha = 0.7,
             color = "red")

stl_lead_plot

ggsave(here::here("figs", "stl_lead_plot.png"), height = 5, width = 6)
```

This plot shows the relationship between children with elevated blood lead levels by percent of census tract identifying as white. We see a negative trend, with a higher blood lead levels generally associated with a smaller proportion of census tract identifying as white.

Now create a histogram
```{r}
stl_lead_histo <- ggplot(data = stl_lead_prop, aes(x = pct_elevated))+
  geom_histogram(fill="blue3", 
                 color="orange", 
                 size = 0.5)

stl_lead_histo

ggsave(here::here("figs", "stl_lead_histo.jpg"), width = 6, height = 5)
```


